{% extends "index.html" %}

{% block title %}ì—ªì”¨ì˜¨í | ìˆ˜ìˆ˜ë£Œ ê³„ì‚°ê¸°{% endblock %}

{% block content %}
<style>
    .calculator-container {
        background: var(--bg-secondary);
        border-radius: 15px;
        padding: 30px;
        margin-top: 20px;
        max-width: 1000px;
        margin-left: auto;
        margin-right: auto;
    }

    .calculator-title {
        color: var(--text-primary);
        font-size: 1.8rem;
        font-weight: bold;
        margin-bottom: 25px;
        text-align: center;
    }

    .discount-options {
        display: flex;
        gap: 20px;
        justify-content: center;
        margin-bottom: 15px;
    }

    .discount-checkbox {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--text-primary);
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        user-select: none;
    }

    .discount-checkbox input[type="checkbox"] {
        width: 18px;
        height: 18px;
        cursor: pointer;
    }

    .calculator-box {
        background: var(--bg-main);
        border-radius: 0px;
        padding: 20px;
        border: 2px solid var(--border-color);
    }

    .calc-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 15px;
    }

    .calc-column {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .calc-label {
        color: var(--text-primary);
        font-size: 1rem;
        font-weight: 600;
        text-align: center;
        margin-bottom: 5px;
    }

    .calc-input {
        width: 100%;
        padding: 10px;
        font-size: 0.85rem;
        border: 2px solid var(--border-color);
        border-radius: 8px;
        background: var(--bg-secondary);
        color: var(--text-primary);
        text-align: center;
    }

    .calc-input:focus {
        outline: none;
        border-color: var(--primary-color);
    }

    /* ìˆ«ì input í™”ì‚´í‘œ ì œê±° */
    .calc-input::-webkit-inner-spin-button,
    .calc-input::-webkit-outer-spin-button {
        -webkit-appearance: none;
        margin: 0;
    }

    .calc-input[type="number"] {
        -moz-appearance: textfield;
    }

    /* select ë“œë¡­ë‹¤ìš´ í™”ì‚´í‘œ ì œê±° */
    select.calc-input {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
    }

    .calc-value {
        color: var(--text-primary);
        font-size: 0.85rem;
        /* clamp ëŒ€ì‹  ê³ ì • í¬ê¸° */
        font-weight: bold;
        text-align: center;
        padding: 10px 5px;
        /* ì¢Œìš° íŒ¨ë”© ì¶•ì†Œ */
        background: var(--bg-secondary);
        border-radius: 8px;
        white-space: nowrap;
        /* í•œ ì¤„ ìœ ì§€ */
        overflow: hidden;
        /* ë„˜ì¹˜ëŠ” ë¶€ë¶„ ìˆ¨ê¹€ */
        text-overflow: ellipsis;
        /* ë„˜ì¹˜ë©´ ... í‘œì‹œ (ì„ íƒì‚¬í•­) */
    }

    .calc-value.negative {
        color: #ff4757;
    }

    .calc-value.positive {
        color: var(--primary-color);
        font-size: 0.85rem;
        /* ì‚´ì§ë§Œ í¬ê²Œ */
    }

    .korean-unit {
        color: var(--text-secondary);
        font-size: 0.85rem;
        text-align: center;
        margin-top: 5px;
        min-height: 20px;
    }

    /* ë°•ìŠ¤ ì»¨í…Œì´ë„ˆ */
    #boxes-container {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    /* ë°•ìŠ¤ ì•¡ì…˜ ë²„íŠ¼ */
    .box-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }

    .add-box-btn,
    .remove-box-btn {
        padding: 8px 16px;
        border: 2px solid var(--border-color);
        border-radius: 6px;
        background: var(--bg-secondary);
        color: var(--text-primary);
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
    }

    .add-box-btn:hover {
        border-color: var(--primary-color);
        background: var(--primary-color);
        color: white;
    }

    .remove-box-btn {
        border-color: #ff4757;
        color: #ff4757;
    }

    .remove-box-btn:hover {
        background: #ff4757;
        color: white;
    }

    .result-section {
        background: var(--bg-main);
        border-radius: 10px;
        padding: 15px 20px;
        margin-top: 30px;
        margin-left: auto;
        /* ì¶”ê°€ */
        margin-right: auto;
        /* ì¶”ê°€ */
        max-width: 650px;
        /* ì›í•˜ëŠ” ë„ˆë¹„ë¡œ ì¡°ì • (ì˜ˆ: 600px, 700px, 800px ë“±) */
        border: 2px solid var(--primary-color);
        text-align: center;
    }

    .result-section p {
        margin: 0;
        /* ì¶”ê°€ */
    }

    .result-title {
        color: var(--primary-color);
        font-size: 1.3rem;
        font-weight: bold;
        margin-bottom: 15px;
        text-align: center;
    }

    .ad-banner {
        text-align: center;
        margin-bottom: 25px;
        padding: 8px 0;
        font-size: 0.95rem;
    }

    .ad-banner span {
        color: var(--text-primary);
        margin-right: 8px;
        font-weight: 600;
    }

    .ad-banner a {
        color: var(--primary-color);
        text-decoration: none;
        font-weight: 600;
        transition: all 0.3s;
    }

    .ad-banner a:hover {
        text-decoration: underline;
    }

    /* ëª¨ë°”ì¼ ìµœì í™” (768px ì´í•˜) */
    @media (max-width: 768px) {
        .calculator-container {
            padding: 20px 15px;
            border-radius: 10px;
        }

        /* ì²´í¬ë°•ìŠ¤ ì„¸ë¡œ ë°°ì¹˜ */
        .discount-options {
            flex-direction: column;
            gap: 10px;
            align-items: flex-start;
            padding: 0 10px;
        }

        /* ê´‘ê³  ë°°ë„ˆ */
        .ad-banner {
            font-size: 0.9rem;
            padding: 6px 0;
        }

        /* ë°•ìŠ¤ íŒ¨ë”© ì¶•ì†Œ */
        .calculator-box {
            padding: 15px 10px;
        }

        /* 4ì—´ â†’ 2ì—´ ë³€ê²½ */
        .calc-grid {
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
        }

        /* ìˆ˜ìˆ˜ë£Œ, ë°›ì„ ê¸ˆì•¡ ì—´ ìˆ¨ê¸°ê¸° */
        .calc-column:nth-child(2),
        .calc-column:nth-child(4) {
            display: none;
        }

        /* ì»¬ëŸ¼ ë¼ë²¨ */
        .calc-label {
            font-size: 0.9rem;
        }

        /* ì…ë ¥ í•„ë“œ */
        .calc-input {
            font-size: 0.85rem;
            padding: 10px 8px;
        }

        /* í•œê¸€ ë‹¨ìœ„ */
        .korean-unit {
            font-size: 0.8rem;
        }

        /* ë²„íŠ¼ */
        .add-box-btn,
        .remove-box-btn {
            font-size: 0.85rem;
            padding: 8px 12px;
        }

        /* ì´ ì‹¤ìˆ˜ë ¹ ë°•ìŠ¤ */
        .result-section {
            max-width: 100%;
            padding: 12px 15px;
        }

        .result-title {
            font-size: 1.1rem;
        }

        /* ì´ ì‹¤ìˆ˜ë ¹ ë°•ìŠ¤ */
        .result-section {
            max-width: 100%;
            padding: 12px 15px;
        }

        .result-title {
            font-size: 1.1rem;
        }

        /* ì´ ì‹¤ìˆ˜ë ¹ ê¸ˆì•¡ ìˆ«ì í¬ê¸° ì¶•ì†Œ - ì¶”ê°€ */
        .result-section p span {
            font-size: 1.25rem !important;
            /* 1.5rem â†’ 1.2rem */
        }

        /* í•œê¸€ ë‹¨ìœ„ í¬ê¸° ì¶•ì†Œ ë° êµµê²Œ - ì¶”ê°€ */
        .result-section p br+span {
            font-size: 1.1rem !important;
            font-weight: 700 !important;
        }

    }
</style>

<div class="calculator-container">

    <!-- ê´‘ê³  ë°°ë„ˆ -->
    <div class="ad-banner">
        <span>ğŸ”¥ëŒ€ë‚™ì€ ì‹¤ìˆ˜ì—†ëŠ” ì§±ëŒ€ë‚™!ğŸ”¥</span>
        <a href="https://jjangdaenak.com/" target="_blank" rel="noopener noreferrer">jjangdaenak.com</a>
    </div>

    <!-- ì „ì²´ í• ì¸ ì˜µì…˜ -->
    <div class="discount-options">
        <label class="discount-checkbox">
            <input type="checkbox" id="pcBangDiscount" checked>
            <span>PCë°© í• ì¸ (30%)</span>
        </label>
        <label class="discount-checkbox">
            <input type="checkbox" id="topClassDiscount" checked>
            <span>TOP Class í• ì¸ (20%)</span>
        </label>
    </div>

    <div id="boxes-container">
        <div class="calculator-box" id="box-1">
            <div class="calc-grid">
                <!-- ì—´ 1: íŒë§¤ ê¸ˆì•¡ -->
                <div class="calc-column">
                    <div class="calc-label">íŒë§¤ ê¸ˆì•¡</div>
                    <input type="text" class="calc-input sale-price" placeholder="ê°€ê²© ì…ë ¥" value="">
                    <div class="korean-unit"></div>
                </div>

                <!-- ì—´ 2: ìˆ˜ìˆ˜ë£Œ -->
                <div class="calc-column">
                    <div class="calc-label">ìˆ˜ìˆ˜ë£Œ</div>
                    <div class="calc-value negative fee-amount">0 BP</div>
                    <div class="korean-unit"></div>
                </div>

                <!-- ì—´ 3: ìˆ˜ìˆ˜ë£Œ ì¿ í° -->
                <div class="calc-column">
                    <div class="calc-label">ìˆ˜ìˆ˜ë£Œ ì¿ í°</div>
                    <select class="calc-input coupon-select">
                        <option value="0">ë¯¸ì ìš©</option>
                        <option value="50">50%</option>
                        <option value="45">45%</option>
                        <option value="40">40%</option>
                        <option value="35">35%</option>
                        <option value="30">30%</option>
                        <option value="25">25%</option>
                        <option value="20">20%</option>
                        <option value="15">15%</option>
                        <option value="10">10%</option>
                    </select>
                </div>

                <!-- ì—´ 4: ë°›ì„ ê¸ˆì•¡ -->
                <div class="calc-column">
                    <div class="calc-label">ë°›ì„ ê¸ˆì•¡</div>
                    <div class="calc-value positive final-amount">0 BP</div>
                    <div class="korean-unit"></div>
                </div>
            </div>

            <!-- ì¶”ê°€/ì‚­ì œ ë²„íŠ¼ ì˜ì—­ -->
            <div class="box-actions">
                <button class="add-box-btn" onclick="addBox()">+ ì¹´ë“œ ì¶”ê°€</button>
            </div>
        </div>
    </div>

    <div class="result-section">
        <div class="result-title">ğŸ’° ì´ ì‹¤ìˆ˜ë ¹ ê¸ˆì•¡</div>
        <p style="color: var(--text-secondary);">ê²°ê³¼ í‘œì‹œ ì¤€ë¹„ ì¤‘...</p>
    </div>
</div>

<script>
    // ì „ì—­ ë³€ìˆ˜
    let boxCounter = 1;

    function formatNumber(num) {
        return new Intl.NumberFormat('ko-KR').format(num);
    }

    // í•œê¸€ ë‹¨ìœ„ ë³€í™˜ í•¨ìˆ˜
    function toKoreanUnit(num) {
        if (num === 0) return '';

        const units = ['', 'ë§Œ', 'ì–µ', 'ì¡°', 'ê²½', 'í•´'];
        const divisions = [1, 10000, 100000000, 1000000000000, 10000000000000000, 100000000000000000000];

        let result = [];

        for (let i = divisions.length - 1; i > 0; i--) {
            const division = divisions[i];
            if (num >= division) {
                const value = Math.floor(num / division);
                const remainder = value % 10000;

                if (remainder > 0) {
                    result.push(remainder.toLocaleString('ko-KR') + units[i]);
                }

                num = num % division;
            }
        }

        if (result.length === 0) {
            return num.toLocaleString('ko-KR');
        }

        return result.join(' ') + ' BP';
    }

    // íŒë§¤ ê¸ˆì•¡ í¬ë§·íŒ… í•¨ìˆ˜ (ì–µ ë‹¨ìœ„ ê³ ì •)
    function formatSalePrice(value) {
        // ìˆ«ìë§Œ ì¶”ì¶œ
        const numbers = value.replace(/[^\d]/g, '');

        if (numbers === '') {
            return '';
        }

        // ì‚¬ìš©ì ì…ë ¥ê°’ Ã— 100,000,000 (ì–µ ë‹¨ìœ„)
        const multiplied = parseFloat(numbers) * 100000000;

        // ì²œ ë‹¨ìœ„ ì‰¼í‘œ ì¶”ê°€
        return new Intl.NumberFormat('ko-KR').format(multiplied);
    }

    // íŒë§¤ ê¸ˆì•¡ì—ì„œ ìˆ«ìë§Œ ì¶”ì¶œ
    function extractNumber(value) {
        const numbers = value.replace(/[^\d]/g, '');
        return parseFloat(numbers) || 0;
    }

    // ê°œë³„ ë°•ìŠ¤ ê³„ì‚° í•¨ìˆ˜
    function calculateBox(boxId) {
        const box = document.getElementById(boxId);
        if (!box) return 0;

        const salePriceInput = box.querySelector('.sale-price');
        const feeAmountDiv = box.querySelector('.fee-amount');
        const finalAmountDiv = box.querySelector('.final-amount');
        const koreanUnits = box.querySelectorAll('.korean-unit');

        const salePrice = extractNumber(salePriceInput.value);

        // ê¸°ë³¸ ìˆ˜ìˆ˜ë£Œ 40%
        const baseFee = salePrice * 0.4;

        // ì´ í• ì¸ ê¸ˆì•¡ ê³„ì‚° (ëª¨ë‘ ì›ë˜ baseFee ê¸°ì¤€)
        let totalDiscount = 0;

        // PCë°© í• ì¸ (30%)
        const pcBangChecked = document.getElementById('pcBangDiscount').checked;
        if (pcBangChecked) {
            totalDiscount += baseFee * 0.3;
        }

        // TOP Class í• ì¸ (20%)
        const topClassChecked = document.getElementById('topClassDiscount').checked;
        if (topClassChecked) {
            totalDiscount += baseFee * 0.2;
        }

        // ì¿ í° í• ì¸
        const couponSelect = box.querySelector('.coupon-select');
        const couponRate = parseFloat(couponSelect.value) || 0;
        totalDiscount += baseFee * (couponRate / 100);

        // ìµœì¢… ìˆ˜ìˆ˜ë£Œ
        const finalFee = baseFee - totalDiscount;

        // ë°›ì„ ê¸ˆì•¡
        const finalAmount = salePrice - finalFee;

        // ê²°ê³¼ í‘œì‹œ
        feeAmountDiv.textContent = `-${formatNumber(Math.round(finalFee))} BP`;
        finalAmountDiv.textContent = `${formatNumber(Math.round(finalAmount))} BP`;

        // í•œê¸€ ë‹¨ìœ„ í‘œì‹œ
        koreanUnits[0].textContent = toKoreanUnit(salePrice);
        koreanUnits[1].textContent = toKoreanUnit(Math.round(finalFee));
        koreanUnits[2].textContent = toKoreanUnit(Math.round(finalAmount));

        return finalAmount;
    }

    // ì „ì²´ í•©ì‚° í•¨ìˆ˜
    function calculateTotal() {
        const boxes = document.querySelectorAll('.calculator-box');
        let total = 0;

        boxes.forEach(box => {
            const finalAmount = calculateBox(box.id);
            total += finalAmount;
        });

        // ì´ ì‹¤ìˆ˜ë ¹ BP í‘œì‹œ
        const resultSection = document.querySelector('.result-section p');
        resultSection.innerHTML = `<span style="color: var(--primary-color); font-size: 1.5rem; font-weight: bold;">${formatNumber(Math.round(total))} BP</span>`;

        // í•œê¸€ ë‹¨ìœ„ë„ ì¶”ê°€
        const koreanText = toKoreanUnit(Math.round(total));
        if (koreanText) {
            resultSection.innerHTML += `<br><span style="color: var(--text-secondary); font-size: 1rem;">${koreanText}</span>`;
        }
    }

    // ë°•ìŠ¤ ì¶”ê°€ í•¨ìˆ˜
    function addBox() {
        boxCounter++;
        const boxId = `box-${boxCounter}`;
        const container = document.getElementById('boxes-container');

        const newBox = document.createElement('div');
        newBox.className = 'calculator-box';
        newBox.id = boxId;
        newBox.innerHTML = `
        <div class="calc-grid">
            <!-- ì—´ 1: íŒë§¤ ê¸ˆì•¡ -->
            <div class="calc-column">
                <div class="calc-label">íŒë§¤ ê¸ˆì•¡</div>
                <input type="text" class="calc-input sale-price" placeholder="ê°€ê²© ì…ë ¥" value="">
                <div class="korean-unit"></div>
            </div>

            <!-- ì—´ 2: ìˆ˜ìˆ˜ë£Œ -->
            <div class="calc-column">
                <div class="calc-label">ìˆ˜ìˆ˜ë£Œ</div>
                <div class="calc-value negative fee-amount">0 BP</div>
                <div class="korean-unit"></div>
            </div>

            <!-- ì—´ 3: ìˆ˜ìˆ˜ë£Œ ì¿ í° -->
            <div class="calc-column">
                <div class="calc-label">ìˆ˜ìˆ˜ë£Œ ì¿ í°</div>
                <select class="calc-input coupon-select">
                    <option value="0">ë¯¸ì ìš©</option>
                    <option value="50">50%</option>
                    <option value="45">45%</option>
                    <option value="40">40%</option>
                    <option value="35">35%</option>
                    <option value="30">30%</option>
                    <option value="25">25%</option>
                    <option value="20">20%</option>
                    <option value="15">15%</option>
                    <option value="10">10%</option>
                </select>
            </div>

            <!-- ì—´ 4: ë°›ì„ ê¸ˆì•¡ -->
            <div class="calc-column">
                <div class="calc-label">ë°›ì„ ê¸ˆì•¡</div>
                <div class="calc-value positive final-amount">0 BP</div>
                <div class="korean-unit"></div>
            </div>
        </div>

        <!-- ì¶”ê°€/ì‚­ì œ ë²„íŠ¼ ì˜ì—­ -->
        <div class="box-actions">
            <button class="add-box-btn" onclick="addBox()">+ ì¹´ë“œ ì¶”ê°€</button>
            <button class="remove-box-btn" onclick="removeBox('${boxId}')">ì‚­ì œ</button>
        </div>
    `;

        container.appendChild(newBox);
        attachBoxEventListeners(boxId);
        calculateTotal();
    }

    // ë°•ìŠ¤ ì‚­ì œ í•¨ìˆ˜
    function removeBox(boxId) {
        const boxes = document.querySelectorAll('.calculator-box');

        // ìµœì†Œ 1ê°œëŠ” ìœ ì§€
        if (boxes.length <= 1) {
            alert('ìµœì†Œ 1ê°œì˜ ì¹´ë“œëŠ” í•„ìš”í•©ë‹ˆë‹¤.');
            return;
        }

        const box = document.getElementById(boxId);
        if (box) {
            box.remove();
            calculateTotal();
        }
    }

    // ê°œë³„ ë°•ìŠ¤ì— ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
    function attachBoxEventListeners(boxId) {
        const box = document.getElementById(boxId);
        if (!box) return;

        // íŒë§¤ ê¸ˆì•¡ ì…ë ¥ ì´ë²¤íŠ¸
        const salePriceInput = box.querySelector('.sale-price');

        // ì´ˆê¸° ì‚¬ìš©ì ì…ë ¥ê°’ ì €ì¥
        if (!salePriceInput.dataset.userInput) {
            salePriceInput.dataset.userInput = '';
        }

        // keydownìœ¼ë¡œ ì™„ì „ ì œì–´
        salePriceInput.addEventListener('keydown', function (e) {
            const input = this;
            let userInput = input.dataset.userInput || '';

            // ìˆ«ì í‚¤ (0-9)
            if (e.key >= '0' && e.key <= '9') {
                e.preventDefault();
                userInput += e.key;
            }
            // ë°±ìŠ¤í˜ì´ìŠ¤
            else if (e.key === 'Backspace') {
                e.preventDefault();
                userInput = userInput.slice(0, -1);
            }
            // ì‚­ì œ
            else if (e.key === 'Delete') {
                e.preventDefault();
                // DeleteëŠ” ë¬´ì‹œ (ë’·ìë¦¬ëŠ” ê³ ì •ì´ë¯€ë¡œ)
                return;
            }
            // í™”ì‚´í‘œ, Tab ë“±ì€ ë¬´ì‹œ
            else if (e.key === 'ArrowLeft' || e.key === 'ArrowRight' ||
                e.key === 'ArrowUp' || e.key === 'ArrowDown' ||
                e.key === 'Tab') {
                e.preventDefault();
                return;
            }
            // ë‹¤ë¥¸ í‚¤ëŠ” ëª¨ë‘ ì°¨ë‹¨
            else {
                e.preventDefault();
                return;
            }

            // ì €ì¥
            input.dataset.userInput = userInput;

            // í‘œì‹œ ì—…ë°ì´íŠ¸
            if (userInput === '') {
                input.value = '';
            } else {
                const multiplied = parseFloat(userInput) * 100000000;
                input.value = new Intl.NumberFormat('ko-KR').format(multiplied);
            }

            // ì»¤ì„œëŠ” í•­ìƒ ë
            setTimeout(() => {
                if (userInput && input.value) {
                    let cursorPos = 0;
                    let digitCount = 0;

                    for (let i = 0; i < input.value.length; i++) {
                        if (input.value[i] >= '0' && input.value[i] <= '9') {
                            digitCount++;
                            if (digitCount === userInput.length) {
                                cursorPos = i + 1;
                                break;
                            }
                        }
                    }

                    input.setSelectionRange(cursorPos, cursorPos);
                }
            }, 0);

            calculateTotal();
        });

        // ë§ˆìš°ìŠ¤ í´ë¦­ ì‹œ ì»¤ì„œ ê°•ì œ ì´ë™
        salePriceInput.addEventListener('click', function (e) {
            e.preventDefault();
            const userInput = this.dataset.userInput || '';
            if (userInput && this.value) {
                let cursorPos = 0;
                let digitCount = 0;

                for (let i = 0; i < this.value.length; i++) {
                    if (this.value[i] >= '0' && this.value[i] <= '9') {
                        digitCount++;
                        if (digitCount === userInput.length) {
                            cursorPos = i + 1;
                            break;
                        }
                    }
                }

                this.setSelectionRange(cursorPos, cursorPos);
            }
        });

        // paste ì°¨ë‹¨
        salePriceInput.addEventListener('paste', function (e) {
            e.preventDefault();
        });

        // í´ë¦­/í¬ì»¤ìŠ¤ ì‹œ ì»¤ì„œ ìœ„ì¹˜ ê°•ì œ
        salePriceInput.addEventListener('click', function () {
            const userInput = this.dataset.userInput || '';
            if (userInput && this.value) {
                let cursorPos = 0;
                let digitCount = 0;

                for (let i = 0; i < this.value.length; i++) {
                    if (this.value[i] >= '0' && this.value[i] <= '9') {
                        digitCount++;
                        if (digitCount === userInput.length) {
                            cursorPos = i + 1;
                            break;
                        }
                    }
                }

                this.setSelectionRange(cursorPos, cursorPos);
            }
        });

        // ì¿ í° ì„ íƒ ì´ë²¤íŠ¸
        const couponSelect = box.querySelector('.coupon-select');
        couponSelect.addEventListener('change', function () {
            calculateTotal();
        });
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
    document.addEventListener('DOMContentLoaded', function () {
        // ì²« ë²ˆì§¸ ë°•ìŠ¤ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
        attachBoxEventListeners('box-1');

        // PCë°©/TOP Class ì²´í¬ë°•ìŠ¤ ì´ë²¤íŠ¸
        document.getElementById('pcBangDiscount').addEventListener('change', calculateTotal);
        document.getElementById('topClassDiscount').addEventListener('change', calculateTotal);

        // ì´ˆê¸° ê³„ì‚°
        calculateTotal();
    });
</script>

{% endblock %}